<div class="card-container" style="padding:20px;">
    <!--WHITEFRAME START-->
    <md-whiteframe class="md-whiteframe-z1" layout layout-align="center center" style="border:1px solid #ccc;max-width:960px;margin:0 auto" ng-repeat="item in invoiceArray">
    <form name="editForm"  style="width:960px;" ng-controller="AppCtrl as ctrl"  >
            <md-content flex>
            <div layout layout-sm="column" layout-margin flex>
            <div flex="20">
				<label>Invoice No:</label>
				<label ng-if="item.invoiceNo == '-999'">{{item.invoiceRefNo}}</label>
					<label ng-if="item.invoiceNo != '-999'">{{item.invoiceNo}}</label>
				</div>
						<div flex>
                            <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid red;background-color: #FF0000; " ng-if="item.status == 'Unpaid'">
                                <b style=" width:70px; font-color:#FFFFFF;">
                                    <font color="white">Unpaid</font>
                                </b>
                            </span>
                             <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid #D2691E;background-color: #D2691E;" ng-if="item.status == 'overdue'">
                                <b style=" width:70px; font-color:#FFFFFF;">
                                    <font color="white">Overdue</font>
                                </b>
                            </span>
                             <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid #FF4500;background-color: #FF4500;" ng-if="item.status == 'Partially Paid'">
                                <b style=" width:70px; font-color:#FFFFFF;">
                                    <font color="white">Partially Paid</font>
                                </b>
                            </span>
                            <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid #000000;background-color: #000000;" ng-if="item.status == 'Cancelled'">
                                <b style=" width:70px; font-color:#FFFFFF;">
                                    <font color="white">Cancelled</font>
                                </b>
                            </span>
                            <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid #696969;background-color: #696969;" ng-if="item.status == 'Draft'">
                                <b style=" width:70px; font-color:#FFFFFF;">
                                    <font color="white">Draft</font>
                                </b>
                            </span>
                        </div>
                     <div  style="margin-top:-20px;">
                        	 <md-button ng-click="print()" style="height:30px;" aria-label="change address" href>
                                    <md-icon md-svg-icon="img/ic_print_24px.svg" style="height:20px; width:20px;"></md-icon>
                                </md-button>
                      
                        	 <md-button ng-click="download()" style="height:30px;" aria-label="change address" href>
                                    <md-icon md-svg-icon="img/ic_file_download_24px.svg" style="height:20px; width:20px;"></md-icon>
                                </md-button>

                               <md-button class="md-raised md-primary"ng-click="showMakepayment()" href style="background:green; margin-top:5px;">Make Payment</md-button>
                               <md-menu md-position-mode="target-right target" >
                            <md-button href aria-label="Open demo menu" class="md-icon-button"  ng-click="$mdOpenMenu()">
                                <md-icon md-menu-origin md-svg-src="img/ic_more_horiz_24px.svg"style="margin-top:10px;" ></md-icon>
                            </md-button>
                            <md-menu-content width="4"> 
                                <md-menu-item >
                                    <md-button href ng-click="EditInvoice(item)">
                                        <p>Edit</p>
                                        <md-icon href md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button href ng-click="copyInvoice(item)">
                                        <p>Copy</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button href ng-click="cancelStatus(item)">
                                        <p>Cancel</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button href ng-click="deleteInvoice(item)">
                                        <p>Delete</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button href ng-click="">
                                        <p>Copy as Recurring</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                 <md-menu-item >
                                    <md-button href ng-click="">
                                        <p>Credit Note</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button href ng-click="">
                                        <p>Send Reminder</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button href ng-click="">
                                        <p>Add Comments</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                            </md-menu-content>
                        </md-menu>
                        </div>
				</div>
				<md-divider></md-divider>
				<div layout layout-sm="column" layout-margin flex>
					<img src="img/image1.jpg">
					<div ng-show="Makepayment" style="margin-top:40px;">
					<div style="width: 320px; height:20px;padding: 15px;border: 1px solid gray;margin: 0;">
					<lable style="padding-right:80px;">Invoice {{item.invoiceRefNo}} payment </lable>
						<md-button class="md-raised md-primary" >Pay Online</md-button>
					</div>
					<div style="width: 328px;padding: 10px;border: 1px solid gray;margin: 0;">
					
				            <label> Payment Method</label><label style="padding-left:20px;"> {{item.paymentMethod}}</label><br><br>
				        
				           <label> Balance Due</label><label style="padding-left:20px;"> {{item.finalamount|currency}}</label><br><br>
				       
				           <label> Payment Amount </label><label style="padding-left:20px;">{{item.finalamount|currency}}</label><br>
				       
					</div>
					</div>
				</div>

				<div layout layout-sm="column" layout-margin flex style="margin-top:-50px;">
				<div flex="10" class="blankspace"></div>
					<h1 style="">INVOICE</h1>
				</div>
				<div layout layout-sm="column" layout-margin flex style="margin-top:-20px;">
				<div flex="10" class="blankspace"></div>
					<label ng-if="item.invoiceNo == '-999'">#INV {{item.invoiceRefNo}}</label>
					<label ng-if="item.invoiceNo != '-999'">#INV {{item.invoiceNo}}</label>
					<div flex="50" class="blankspace"></div>
					
				</div>
				<div layout layout-sm="column" layout-margin style="margin-top:20px;" flex>
				<div flex="70" class="blankspace"></div>
					<label>To:</label>
					
				</div>
				<div layout layout-sm="column" layout-margin style="margin-top:10px;" flex>
				<div flex="10" class="blankspace"></div>
					<label flex="10">Invoice Date</label>
					<label flex="15"> {{item.Startdate|date}}</label>
			<div flex="30" class="blankspace"></div>
					<label><b>{{item.Name}}</b></label>
					
				</div>

				<div layout layout-sm="column" layout-margin style="margin-top:-15px;" flex>
				<div flex="10" class="blankspace"></div>
					<label flex="10">Due Date</label>
					<label flex="15"> {{item.termtype}}</label>
					<div flex="30" class="blankspace"></div>
					<label>{{street}}</label>
					
				</div>
				<div layout layout-sm="column" layout-margin style="margin-top:-15px;" flex>
				<div flex="10" class="blankspace"></div>
					<label flex="10">PO</label>
					<label flex="15"> {{item.poNum}}</label>
					<div flex="30" class="blankspace"></div>
					<label>{{city}}</label>
					
				</div>
				
				<div layout layout-sm="column" layout-margin style="margin-top:-15px;"  flex>
				<div flex="10" class="blankspace"></div>
					<label flex="10">Currency</label>
					<label flex="15">USD</label>
					<div flex="30" class="blankspace"></div>
					
				</div>
				<div layout layout-sm="column" layout-margin  flex>
				<div flex="10" class="blankspace"></div>
					<label flex="10">Comments</label>
					<label flex>{{item.comments}}</label>
					<!-- <div flex="50" class="blankspace"></div> -->
				</div>
				<div layout layout-sm="column" style="margin-top:30px;" layout-margin  flex>
				<div flex="10" class="blankspace"></div>
					<table >
					<tr>
						<th style=" width:450px;" flex="50">Description</th>
						<th style="padding: 20px;" flex>Qty</th>
						<th style="padding: 20px;" flex>Unit</th>
						<th style="padding: 20px;" flex>Price</th>
						<th style="padding: 20px;" flex>Amount</th>
						<md-divider></md-divider>
						</tr>

						<tr ng-repeat="prod in item.invoiceProducts">
							<td style=" width:450px;" flex="50"><b>{{prod.Productname}}</b><br>
							Optional product line comment- {{prod.olp}}</td>
							<td style="padding: 20px;"flex>{{prod.quantity}}</td>
							<td style="padding: 20px;"flex>{{prod.ProductUnit}}</td>
							<td style="padding: 20px;"flex>{{prod.price}}</td>
							<td style="padding: 20px;"flex>{{prod.amount|currency}}</td> 
						</tr>
						<md-divider></md-divider>
					</table>
				</div>
				 <md-divider></md-divider>

				  <div layout layout-sm="column" layout-margin  flex>
				 	<div flex="55" class="blankspace"></div>
				 	<table>
				 		<tr >
				 			<td style="padding-top:30px;" flex>Sub Total</td>
				 			<td style="padding-left: 150px; padding-top:30px;" flex>{{item.total|currency}}</td>
				 		</tr>
				 		<tr >
				 			<td  style="padding-top:30px;" flex>Discount</td>
				 			<td style="padding-left: 150px; padding-top:30px;" flex>{{item.discountAmount|currency}}</td>
				 		</tr>
				 		<tr >
				 			<td style="padding-top:30px;" flex>Tax</td>
				 			<td style="padding-left: 150px; padding-top:30px;" flex>{{item.salesTaxAmount|currency}}</td>
				 		</tr>
				 		<tr >
				 			<td style="padding-top:30px;" flex> Other Tax</td>
				 			<td style="padding-left: 150px; padding-top:30px;" flex>{{item.otherTaxAmount|currency}}</td>
				 		</tr>
				 		<tr >
				 			<td style="padding-top:30px;" flex> Shipping</td>
				 			<td style="padding-left: 150px; padding-top:30px;" flex>{{item.shipping|currency}}</td>
				 		</tr>
				 		<tr >
				 			<td style="padding-top:30px;" flex> Total USD</td>
				 			<td style="padding-left: 150px; padding-top:30px;" flex>{{item.finalamount|currency}}</td>
				 		</tr>
				 		<tr >
				 			<td style="padding-top:30px;" flex> Paid</td>
				 			<td style="padding-left: 150px; padding-top:30px;" flex>{{item.paidAMount|currency}}</td>
				 		</tr>
				 		<tr style="background-color:#778899;">
				 			<td style="padding-top:30px;" flex> <label><b>Balance Due USD</b></label></td>
				 			<td style="padding-left: 150px; padding-top:30px;" flex>{{item.balanceDue|currency}}</td>
				 		</tr>
				 	</table>
				 </div>
				
				<div layout layout-sm="column" layout-margin  flex>
				<div flex="5" class="blankspace"></div>
				<label>Payment method:</label>
				<img ng-if="item.paymentMethod == 'PayPal'" src="img/paypal.png" width="80px" height="40px" style="margin-top:-20px; padding:10px;">
				<img ng-if="item.paymentMethod == 'Stripe'" src="img/stripe.png" width="80px" height="40px" style="margin-top:-20px; padding:10px;">
				</div>

				<div layout layout-sm="column" layout-margin  flex>
				<div flex="5" class="blankspace"></div>
				<label>{{item.notes}}</label>
				</div>
				
				<div layout layout-sm="column" layout-margin  flex>
					<div flex="5" class="blankspace"></div>
					<label>GST Registration No:1231564878</label>					
				</div>
				<div layout layout-sm="column" layout-margin  flex>
					<div flex="5" class="blankspace"></div>
					<label>PST Registration No:1231564878</label>
				</div>
				<md-divider></md-divider>
				

            </md-content>
            </form>
    </md-whiteframe>
    </div>
     <div  class="lock-size" layout="row" >
    <md-button href class="md-fab" aria-label="Profile" ng-click="view()" style=" position:fixed;top:270px;right:50px;background:#db4437">
                <md-icon md-svg-src="img/ic_add_24px.svg" ></md-icon>
                <md-tooltip md-direction="left">All Invoices</md-tooltip>
            </md-button>
        </div>

