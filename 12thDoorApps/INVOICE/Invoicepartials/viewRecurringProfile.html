<div class="card-container" style="padding:20px;">
    <!--WHITEFRAME START-->
    <md-whiteframe class="md-whiteframe-z1" layout layout-align="center center" style="border:1px solid #ccc;max-width:960px;margin:0 auto" ng-repeat="item in invoiceArray">
        <form name="editForm"  style="width:960px;" ng-controller="AppCtrl as ctrl"  >
            <md-content flex>
                <div layout layout-sm="column" layout-margin flex>
                    <div flex="20">
                        <label>Recurring Profile No:</label>
                        <label ng-if="item.invoiceNo == '-999'">{{item.profileName}}</label>
                        <label ng-if="item.invoiceNo != '-999'">{{item.profileRefName}}</label>
                    </div>
                    <div flex>
                        <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid red;background-color: #FF0000; " ng-if="item.status == 'Active'">
                            <b style=" width:70px; font-color:#FFFFFF;">
                                <font color="white">Active</font>
                            </b>
                        </span>
                        <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid #D2691E;background-color: #D2691E;" ng-if="item.status == 'Completed'">
                            <b style=" width:70px; font-color:#FFFFFF;">
                                <font color="white">Completed</font>
                            </b>
                        </span>
                        <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid #000000;background-color: #000000;" ng-if="item.status == 'Cancelled'">
                            <b style=" width:70px; font-color:#FFFFFF;">
                                <font color="white">Cancelled</font>
                            </b>
                        </span>
                        <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid #696969;background-color: #696969;" ng-if="item.status == 'Draft'">
                            <b style=" width:70px; font-color:#FFFFFF;">
                                <font color="white">Draft</font>
                            </b>
                        </span>
                    </div>
                    <div  style="margin-top:-20px;">
                        <md-button ng-click="print()" style="height:30px;" aria-label="change address" href>
                            <md-icon md-svg-icon="img/ic_print_24px.svg" style="height:20px; width:20px;"></md-icon>
                        </md-button>
                        <md-button ng-click="download()" style="height:30px;" aria-label="change address" href>
                            <md-icon md-svg-icon="img/ic_file_download_24px.svg" style="height:20px; width:20px;"></md-icon>
                        </md-button>
                        <md-button ng-click="email(item)" style="height:30px;" aria-label="change address" href>
                            <md-icon md-svg-icon="img/ic_email_24px.svg" style="height:20px; width:20px;"></md-icon>
                        </md-button>
                        <md-menu md-position-mode="target-right target" >
                            <md-button href aria-label="Open demo menu" class="md-icon-button"  ng-click="$mdOpenMenu()">
                                <md-icon md-menu-origin md-svg-src="img/ic_more_horiz_24px.svg"style="margin-top:10px;" ></md-icon>
                            </md-button>
                            <md-menu-content width="4">
                               <md-menu-item >
                                    <md-button href ng-click="cancelStatus(item)">
                                        <p>Cancel</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button href ng-click="EditRecurringInvoice(item)">
                                        <p>Edit</p>
                                        <md-icon href md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button href ng-click="copyRecurringInvoice(item)">
                                        <p>Copy</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button href ng-click="deleteRecurringInvoice(item)">
                                        <p>Delete</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button href ng-click="">
                                        <p>Add Comments</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                            </md-menu-content>
                        </md-menu>
                    </div>
                </div>
                <md-divider></md-divider>
                <div layout layout-sm="column" layout-margin flex>
                    <div style="width:200px; height:90px; border: 1px solid #FF7F50;background-color:#FF7F50;" >
                        <center style="font-color:#FFFFFF;">
                            <h3 style="font-color:#FFFFFF;">START DATE</h3>
                            <label >
                                <b style="font-color:#FFFFFF;">{{item.Startdate|date}}</b>
                            </label>
                        </center>
                    </div>
                    <div flex="5" class="blankspace"></div>
                    <div style=" width:200px; height:90px; border: 1px solid #1E90FF;background-color:#1E90FF;" >
                        <center>
                            <h3 style="font-color:#FFFFFF;">billing Frequency</h3>
                            <label style="font-color:#FFFFFF;">
                                <b>{{item.billingFrequency}}</b>
                            </label>
                        </center>
                    </div>
                    <div flex="5" class="blankspace"></div>
                    <div style=" width:200px; height:90px; border: 1px solid #696969;background-color:#696969;" >
                        <center>
                            <h3 style="font-color:#FFFFFF;">Occurences</h3>
                            <label style="font-color:#FFFFFF;">
                                <b>{{item.occurences}}</b>
                            </label>
                        </center>
                    </div>
                    <div flex="5" class="blankspace"></div>
                    <div style=" width:200px; height:90px; border: 1px solid #228B22;background-color:#228B22;" >
                        <center>
                            <h3 style="font-color:#FFFFFF;">Last Invoice</h3>
                            <label style="font-color:#FFFFFF;">
                                <b>{{}}</b>
                            </label>
                        </center>
                    </div>
                </div>
                <div layout layout-sm="column" layout-margin  flex >
                    <div flex="5" class="blankspace"></div>
                    <!--  <div flex="20" class="blankspace"></div> -->
                    <h1 style="">Recurring Profile</h1>
                </div>
                <div layout layout-sm="column" layout-margin flex style="margin-top:-20px;">
                    <div flex="5" class="blankspace"></div>
                    <label ng-if="item.invoiceNo == '-999'">#INV {{item.profileRefName}}</label>
                    <label ng-if="item.invoiceNo != '-999'">#INV {{item.profileRefName}}</label>
                    <div flex="50" class="blankspace"></div>
                    <!-- <div ayout layout-sm="row" layout-margin> -->
                    <label>To:</label>
                    <!-- </div> -->
                </div>
                <div layout layout-sm="column" layout-margin style="margin-top:20px;" flex>
                    <div flex="5" class="blankspace"></div>
                    <!-- <div ayout layout-sm="row" layout-margin flex> -->
                    <label>Start Date: {{item.Startdate|date}}</label>
                    <!-- 		</div> -->
                    <div flex="40" class="blankspace"></div>
                    <!-- <div ayout layout-sm="row" layout-margin > -->
                    <label>
                        <b>{{item.Name}}</b>
                    </label>
                    <!-- </div> -->
                </div>
                <div layout layout-sm="column" layout-margin flex>
                    <div flex="5" class="blankspace"></div>
                    <label>Billing Frequency: {{item.billingFrequency}}</label>
                    <div flex="40" class="blankspace"></div>
                    <label>{{item.billingAddress}}</label>
                </div>
                <div layout layout-sm="column" layout-margin  flex>
                    <div flex="5" class="blankspace"></div>
                    <label>Occurences:{{item.occurences}}</label>
                    <div flex="50" class="blankspace"></div>
                </div>
                <div layout layout-sm="column" layout-margin  flex>
                    <div flex="5" class="blankspace"></div>
                    <label>Currency:</label>
                </div>
                <div layout layout-sm="column" layout-margin  flex>
                    <div flex="5" class="blankspace"></div>
                    <label>Invoice Comments: {{item.comments}}</label>
                </div>
                <div layout layout-sm="column" style="margin-top:30px;" layout-margin  flex>
                    <div flex="5" class="blankspace"></div>
                    <table>
                        <tr>
                            <th flex style="padding: 20px;">Description</th>
                            <th style="padding-left: 250px;" flex></th>
                            <th style="padding: 20px;" flex>Qty</th>
                            <th style="padding: 20px;" flex>Unit</th>
                            <th style="padding: 20px;" flex>Price</th>
                            <th style="padding: 20px;" flex>Amount</th>
                        </tr>
                        <md-divider></md-divider>
                        <tr ng-repeat="prod in item.recurringProducts">
                            <td style="padding: 20px;" flex>{{prod.Productname}}</td>
                            <td style="padding-left: 250x;" flex></td>
                            <td style="padding: 20px;"flex>{{prod.quantity}}</td>
                            <td style="padding: 20px;"flex>{{prod.ProductUnit}}</td>
                            <td style="padding: 20px;"flex>{{prod.price}}</td>
                            <td style="padding: 20px;"flex>{{prod.amount|currency}}</td>
                            <md-divider></md-divider>
                        </tr>
                    </table>
                </div>
                <md-divider></md-divider>
                <div layout layout-sm="column" layout-margin  flex>
                    <div flex="55" class="blankspace"></div>
                    <table>
                        <tr>
                            <td style="padding-top:30px;" flex>Sub Total</td>
                            <td style="padding-left: 90px; padding-top:30px;" flex>{{item.total|currency}}</td>
                        </tr>
                        <tr>
                            <td  style="padding-top:30px;" flex>Discount</td>
                            <td style="padding-left: 90px; padding-top:30px;" flex>
                            {{item.discountAmount|currency}}</td>
                        </tr>
                        <tr>
                            <td style="padding-top:30px;" flex>Tax</td>
                            <td style="padding-left: 90px; padding-top:30px;" flex>
                            {{item.salesTaxAmount|currency}}</td>
                        </tr>
                        <tr>
                            <td style="padding-top:30px;" flex>Other Tax</td>
                            <td style="padding-left: 90px; padding-top:30px;" flex>
                            {{item.otherTaxAmount|currency}}</td>
                        </tr>
                        <tr>
                            <td style="padding-top:30px;" flex>Shipping</td>
                            <td style="padding-left: 90px; padding-top:30px;" flex>
                            {{item.shipping|currency}}</td>
                        </tr>
                        
                        <tr style="background-color:#778899;">
                            <td style="padding-top:30px;" flex>
                                <label>
                                    <b>Total USD</b>
                                </label>
                            </td>
                            <td style="padding-left: 90px; padding-top:30px;" flex>
                             {{item.finalamount|currency}}</td>
                        </tr>
                    </table>
                </div>
                <div layout layout-sm="column" layout-margin  flex>
                    <div flex="5" class="blankspace"></div>
                    <label>Payment method:</label>
                </div>
                <div layout layout-sm="column" layout-margin  flex>
                    <div flex="5" class="blankspace"></div>
                    <label>{{item.notes}}</label>
                </div>
                <div layout layout-sm="column" layout-margin  flex>
                    <div flex="5" class="blankspace"></div>
                    <label>GST Registration No:1231564878</label>
                </div>
                <div layout layout-sm="column" layout-margin  flex>
                    <div flex="5" class="blankspace"></div>
                    <label>PST Registration No:1231564878</label>
                </div>
                <md-divider></md-divider>
                <div layout layout-sm="column" layout-margin>
                    <div flex="5">
                        <img src="img/material alperbert/avatar_tile_h_28.png" style="margin-top:22px;border-radius:20px"/>
                    </div>
                    <div flex="20" style="margin-top:30px;">
                        <label style="font-weight:700">History & Comments</label>
                    </div>
                    <img src="img/material alperbert/avatar_tile_h_28.png" style="border-radius:20px"/>
                    <md-input-container flex >
                        <input type="text"  ng-model="historyandcomments" aria-label="history" />
                    </md-input-container>
                </div>
                <md-divider></md-divider>
                <div layout layout-sm="column" layout-margin>
                    <div flex="5">
                        <img src="img/material alperbert/avatar_tile_i_28.png" style="margin-top:22px;border-radius:20px"/>
                    </div>
                    <div flex="35" style="margin-top:30px;">
                        <label style="font-weight:700">Invoice History</label>
                    </div>
                    <table>
                        <tr>
                            <th flex style="padding: 30px;">Date</th>
                            <th style="padding: 30px;" flex>Invoice No</th>
                            <th style="padding: 30px;" flex>Amount</th>
                            <th style="padding: 30px;" flex>Status</th>
                            <md-divider></md-divider>
                        </tr>
                        <tr ng-repeat="item in ">
                            <td style="padding: 30px;"  flex>{{cc.Startdate|date}}</td>
                            <td style="padding: 30px;"flex>{{item.paymentid}}</td>
                            <td style="padding: 30px;"flex>{{item.total|currency}}</td>
                            <td style="padding: 30px;"flex>{{item.status}}</td>
                            <md-divider></md-divider>
                        </tr>
                    </table>
                </div>
            </md-content>
        </form>
    </md-whiteframe>
</div>
<div  class="lock-size" layout="row" >
    <md-button href class="md-fab" aria-label="Profile" ng-click="viewProfile()" style=" position:fixed;top:270px;right:50px;background:#db4437">
        <md-icon md-svg-src="img/ic_add_24px.svg" ></md-icon>
        <md-tooltip md-direction="left">All Recurring Profiles</md-tooltip>
    </md-button>
</div>

