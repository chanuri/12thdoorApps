<div class="card-container" style="padding:20px;">
    <!--WHITEFRAME START-->
    <md-whiteframe class="md-whiteframe-z1" layout layout-align="center center" style="border:1px solid #ccc;max-width:960px;margin:0 auto" ng-repeat="item in invoiceArray">
    <form name="editForm"  style="width:960px;"  >
            <md-content flex>
            <div layout layout-sm="column" layout-margin flex>
            <div flex="15">
				<label>Invoice No:</label>
				<label ng-if="item.invoiceNo == '-999'">{{item.invoiceRefNo}}</label>
					<label ng-if="item.invoiceNo != '-999'">{{item.invoiceNo}}</label>
				</div>
						<div ng-repeat="tt in item.MultiDueDAtesArr" ng-if="item.termtype != 'multipleDueDates'" flex>
						<span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid green;background-color: #4CAF50;" ng-if="tt.paymentStatus == 'Paid'">
                                <b style=" width:70px; font-color:#FFFFFF;">
                                    <font color="white">Paid</font>
                                </b>
                            </span>
                            <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid red;background-color: #FF0000; " ng-if="tt.paymentStatus == 'Unpaid'">
                                <b style=" width:70px; font-color:#FFFFFF;">
                                    <font color="white">Unpaid</font>
                                </b>
                            </span>
                             <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid #D2691E;background-color: #D2691E;" ng-if="tt.paymentStatus == 'overdue'">
                                <b style=" width:70px; font-color:#FFFFFF;">
                                    <font color="white">Overdue</font>
                                </b>
                            </span>
                             <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid #FF4500;background-color: #FF4500;" ng-if="tt.paymentStatus == 'Partially Paid'">
                                <b style=" width:70px; font-color:#FFFFFF;">
                                    <font color="white">Partially Paid</font>
                                </b>
                            </span>
                            <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid #000000;background-color: #000000;" ng-if="tt.paymentStatus == 'Cancelled'">
                                <b style=" width:70px; font-color:#FFFFFF;">
                                    <font color="white">Cancelled</font>
                                </b>
                            </span>
                            <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid #696969;background-color: #696969;" ng-if="tt.paymentStatus == 'Draft'">
                                <b style=" width:70px; font-color:#FFFFFF;">
                                    <font color="white">Draft</font>
                                </b>
                            </span>
                            <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid #696969;background-color: #696969;" ng-if="tt.paymentStatus == 'Pending'">
                                <b style="width:70px; font-color:#FFFFFF;">
                                    <font color="white">Pending</font>
                                </b>
                            </span>
                            <span style="padding-right: 15px; padding-left: 15px;"> </span>
                            <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid #696969;background-color: #696969;" ng-if="(item.RecurringProfileNo)">
                                <b style="width:70px; font-color:#FFFFFF;">
                                    <font color="white">{{item.RecurringProfileNo}}</font>
                                </b>
                            </span>
                        </div>
                        <div ng-if="item.termtype == 'multipleDueDates'">
                        	<span style="padding-right: 15px; padding-left: 15px;" flex="60"> </span> 
                        </div>
                        
                           <span style="padding-right: 15px; padding-left: 15px; font-size:13px; width:70px; height:40px; border: 1px solid #696969;background-color: #696969;" ng-if="(item.RecurringProfileNo)">
                                <b style="width:70px; font-color:#FFFFFF;">
                                    <font color="white">{{item.RecurringProfileNo}}</font>
                                </b>
                            </span>
                     <div  style="margin-top:-20px;">
                        	 <md-button ng-click="printDetails()" style="height:30px;" aria-label="change address" href>
                                    <md-icon md-svg-icon="img/ic_print_24px.svg" style="height:20px; width:20px;"></md-icon>
                                </md-button>
                      
                        	 <md-button ng-click="download()" style="height:30px;" aria-label="change address" href>
                                    <md-icon md-svg-icon="img/ic_file_download_24px.svg" style="height:20px; width:20px;"></md-icon>
                                </md-button>
                        
                        	 <md-button ng-click="email(item)" style="height:30px;" aria-label="change address" href>
                                    <md-icon md-svg-icon="img/ic_email_24px.svg" style="height:20px; width:20px;"></md-icon>
                               </md-button>
                               <md-button ng-if="item.paymentStatus == 'Pending'" class="md-raised md-primary"ng-click="Approve(item)" href style="background:green; margin-top:5px;">Approve</md-button>
                               <md-menu md-position-mode="target-right target" >
                            <md-button href aria-label="Open demo menu" class="md-icon-button"  ng-click="$mdOpenMenu()">
                                <md-icon md-menu-origin md-svg-src="img/ic_more_horiz_24px.svg"style="margin-top:10px;" ></md-icon>
                            </md-button>
                            <md-menu-content width="4">
                            <md-menu-item ng-repeat="tt in item.MultiDueDAtesArr" ng-if="tt.paymentStatus != 'Paid'">
                                    <md-button href  ng-click="enterPayment(item)">
                                        <p>Enter Payment</p>
                                        <md-icon href md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button href ng-click="EditInvoice(item)">
                                        <p>Edit</p>
                                        <md-icon href md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button href ng-click="copyInvoice(item)">
                                        <p>Copy</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button href ng-click="cancelStatus(item)">
                                        <p>Cancel</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button aria-label="delete" href ng-click="deleteInvoice(item)">
                                        <p>Delete</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button href ng-click="CopyAsRecurringProfile(item)">
                                        <p>Copy as Recurring</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                 <md-menu-item >
                                    <md-button href ng-click="">
                                        <p>Credit Note</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item >
                                    <md-button href ng-click="showListBottomSheet($event,item)">
                                        <p>Send Reminder</p>
                                        <md-icon md-menu-align-target ></md-icon>
                                    </md-button>
                                </md-menu-item>
                            </md-menu-content>
                        </md-menu>
                        </div>
				</div>

				<md-divider></md-divider>
				<div layout layout-sm="column" layout-margin flex>
					<img src="img/image1.jpg">
				</div>
				<div layout layout-sm="column" layout-margin flex style="margin-top:-50px;">
				<div flex="10" class="blankspace"></div>
					<h1 style="">INVOICE</h1>
				</div>
				<div layout layout-sm="column" layout-margin flex style="margin-top:-20px;">
				<div flex="10" class="blankspace"></div>
					<label ng-if="item.invoiceNo == '-999'">#INV {{item.invoiceRefNo}}</label>
					<label ng-if="item.invoiceNo != '-999'">#INV {{item.invoiceNo}}</label>
					<div flex="50" class="blankspace"></div>
					
				</div>
				<div layout layout-sm="column" layout-margin style="margin-top:20px;" flex>
				<div flex="65" class="blankspace"></div>
					<label>To:</label>
					
				</div>
				<div layout layout-sm="column" layout-margin style="margin-top:10px;" flex>
				<div flex="10" class="blankspace"></div>
					<label flex="10">Invoice Date</label>
					<label flex="15"> {{item.Startdate|date}}</label>
			<div flex="25" class="blankspace"></div>
					<label><b>{{item.Name}}</b></label>
					
				</div>

				<div layout layout-sm="column" layout-margin style="margin-top:-15px;" flex>
				<div flex="10" class="blankspace"></div>
					<label flex="10">Due Date</label>
					<label flex="15"> {{item.termtype}}</label>
					<div flex="25" class="blankspace"></div>
					<label>{{street}}</label>
					
				</div>
				<div layout layout-sm="column" layout-margin style="margin-top:-15px;" flex>
				<div flex="10" class="blankspace"></div>
					<label flex="10">PO</label>
					<label flex="15"> {{item.poNum}}</label>
					<div flex="25" class="blankspace"></div>
					<label>{{city}}</label>
					
				</div>
				
				<div layout layout-sm="column" layout-margin style="margin-top:-15px;"  flex>
				<div flex="10" class="blankspace"></div>
					<label flex="10">Currency</label>
					<label flex="15">USD</label>
					<div flex="25" class="blankspace"></div>
					<label>{{country}}</label>
					
				</div>
				<div layout layout-sm="column" layout-margin  flex>
				<div flex="10" class="blankspace"></div>
					<label flex="10">Comments</label>
					<label flex>{{item.comments}}</label>
					<!-- <div flex="50" class="blankspace"></div> -->
				</div>
				<div layout layout-sm="column" style="margin-top:30px;" layout-margin  flex>
				<div flex="10" class="blankspace"></div>
					<table >
					<tr>
						<th style=" width:450px;" flex="50">Description</th>
						<th style="padding: 10px;" flex>Qty</th>
						<th style="padding: 10px;" flex>Unit</th>
						<th style="padding: 10px;" flex>Price</th>
						<th style="padding: 10px;" flex>Amount</th>
						
						</tr>

						<tr ng-repeat="prod in item.invoiceProducts">
							<td style=" width:450px;" flex="50"><b>{{prod.Productname}}</b><br>
							Optional product line comment- {{prod.olp}}</td>
							<td style="padding: 10px;"flex>{{prod.quantity}}</td>
							<td style="padding: 10px;"flex>{{prod.ProductUnit}}</td>
							<td style="padding: 10px;"flex>{{prod.price}}</td>
							<td style="padding: 10px;"flex>{{prod.amount|currency:item.BaseCurrency}}</td> 
						</tr>
						
					</table>
				</div>
				 <md-divider></md-divider>

				 <div layout layout-sm="column" layout-margin  flex>
				 	<div flex="55" class="blankspace"></div>
				 	<table>
				 		<tr >
				 			<td style="padding-top:15px;" flex>Sub Total</td>
				 			<td style="padding-left: 75px; padding-top:15px;" flex>
				 			{{item.total|currency:item.BaseCurrency}}</td>
				 		</tr>
				 		<tr >
				 			<td  style="padding-top:15px;" flex>Discount</td>
				 			<td style="padding-left: 75px; padding-top:15px;" flex>
				 			{{item.discountAmount|currency:item.BaseCurrency}}</td>
				 		</tr>
				 		<tr >
				 			<td style="padding-top:15px;" flex>Tax</td>
				 			<td style="padding-left: 75px; padding-top:15px;" flex>
				 			{{item.salesTaxAmount|currency:item.BaseCurrency}}</td>
				 		</tr>
				 		<tr >
				 			<td style="padding-top:15px;" flex> Shipping</td>
				 			<td style="padding-left: 75px; padding-top:15px;" flex>
				 			{{item.shipping|currency:item.BaseCurrency}}</td>
				 		</tr>
				 		<tr >
				 			<td style="padding-top:15px;" flex> Total USD</td>
				 			<td style="padding-left: 75px; padding-top:15px;" flex>
				 			{{item.finalamount|currency:item.BaseCurrency}}</td>
				 		</tr>
				 		<tr ng-if="item.termtype != 'multipleDueDates'">
				 			<td style="padding-top:15px;" flex> Paid</td>
				 			<td style="padding-left: 75px; padding-top:15px;"  ng-repeat="ts in item.MultiDueDAtesArr" flex>
				 			{{item.finalamount - ts.balance |currency:item.BaseCurrency}}</td>
				 		</tr>
				 		<tr style="background-color:#C0C0C0;"  ng-if="item.termtype != 'multipleDueDates'">
				 			<td style="padding-top:15px; " flex> <label><b>Balance Due USD</b></label></td>
				 			<td style="padding-left: 75px; padding-top:15px;" ng-repeat="ts in item.MultiDueDAtesArr"flex><b>{{ts.balance|currency:item.BaseCurrency}}</b></td>
				 			{{item.balanceDue|currency:item.BaseCurrency}}</td>
				 		</tr>
				 	</table>
				 </div>

				
				<div layout layout-sm="column" layout-margin style="margin-top:-40px; " flex>
				<div flex="5" class="blankspace"></div>
				<label>Payment Options</label>
					<label>{{item.paymentMethod}}</label>
				<img ng-if="item.paymentMethod == 'PayPal'" src="img/paypal.png" width="80px" height="40px" style="margin-top:-20px; padding:10px;">
				<img ng-if="item.paymentMethod == 'Stripe'" src="img/stripe.png" width="70px" height="35px" style="margin-top:-20px; padding:10px;">
				</div>

				<div layout layout-sm="column" layout-margin  flex>
				<div flex="5" class="blankspace"></div>
				<label>{{item.notes}}</label>
				</div>
				
				<div layout layout-sm="column" layout-margin  flex>
					<div flex="5" class="blankspace"></div>
					<label>GST Registration No:1231564878</label>					
				</div>
				<div layout layout-sm="column" layout-margin  flex>
					<div flex="5" class="blankspace"></div>
					<label>PST Registration No:1231564878</label>
				</div>
				<md-divider></md-divider>
				<div layout layout-sm="column" layout-margin>
				 <section-title title="History & Comments"> </section-title>
                    
                    		<img src="../../img/material alperbert/avatar_tile_h_28.png" style="height:30px;margin-top: 30px;" />
						 <md-input-container flex >
							<label>Write a comment</label>

		                   <input id="new-todo" ng-model="item.addView"  ng-keyup="addTodo(item)"/>
                     	</md-input-container>
				</div>
				<div layout layout-sm="column" layout-margin>
                   <section-title> </section-title>
                    <ul class="divbutton" id="todo-list" style="margin-top:-20px;">
					          <li ng-repeat="todo in item.commentsAndHistory | orderBy:todo.date" style="padding:10px; margin-left:-48px;" flex>
					            <img src="../../img/material alperbert/avatar_tile_h_28.png" />
					            
					              <font  color="#A9A9A9" >{{todo.date|date}} {{todo.text}}</font> 
					              <md-button href aria-label="delete"  ng-click="deleteComments(todo)" style="width:25px; height:10px; padding:15px;">
					             <img src="img/ic_clear_24px.svg" style=" width:15px; height:15px; margin-top:5px;" /></md-button>
					          </li>
					        </ul>
                    </div>
                    <div layout layout-sm="column" layout-margin>
                     <section-title> </section-title>
                     <a id="clear-completed" ng-click="clear()" ng-show="hasDone()">
					   Clear <span >{{(todos.length - remaining())}} {{itemText()}}</span>.
					          </a>
                    </div>

				<md-divider></md-divider>
				<div layout layout-sm="column" layout-margin>
				<section-title title="Payment History"> </section-title>
					<table >
					<tr>
						<th flex style="padding: 30px;">Date</th>
						<th style="padding: 30px;" flex>Doc Ref No</th>
						<th style="padding: 30px;" flex>Payment Method</th>
						<th style="padding: 30px;" flex>Paid Amount</th>
						<!-- <md-divider></md-divider> -->
						</tr>

						<tr ng-repeat="cc in Payment">{{cc}}
						<div ng-repeat="cd in paydate"><td style="padding: 30px;"  flex>{{cd.duedate|date}}</td></div>
							<td style="padding: 30px;"flex>{{cc.paymentid}}</td>
							<td style="padding: 30px;"flex>{{cc.paymentMethod}}</td>
							<td style="padding: 30px;"flex>{{cc.total|currency:item.BaseCurrency}}</td>
							 <!-- <md-divider></md-divider> -->
						</tr>
						<!-- <md-divider></md-divider> -->
					</table>
				</div>
				<md-divider></md-divider>
				<div layout layout-sm="column" ng-show="item.DiplayShipiingAddress" layout-margin>
					<section-title title="Shipping Address"> </section-title>
					<div layout layout-sm="column" layout-margin>
					{{ShippingStreet}}<br>
					{{ShippingCity}}<br>
					{{ShippingCountry}}<br>
					</div>
				</div>
            </md-content>
            </form>
    </md-whiteframe>
    </div>
     <div  class="lock-size" layout="row" >
    <md-button href class="md-fab" aria-label="Profile" ng-click="view()" style=" position:fixed;top:270px;right:50px;background:#db4437">
                <md-icon md-svg-src="img/ic_add_24px.svg" ></md-icon>
                <md-tooltip md-direction="left">All Invoices</md-tooltip>
            </md-button>

           